<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>Slideshow đơn giản – mượt – hiệu ứng PPT</title>
<style>
  body {
    font-family: Arial;
    background: #eee;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  #frame {
    width: 900px;
    height: 500px;
    background: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 25px rgba(0,0,0,0.2);
  }

  #frame img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .controls {
    margin-top: 12px;
    display: flex;
    gap: 12px;
  }

  button {
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    background: #2563eb;
    color: white;
  }
  button.secondary { background: #444; }

  /* --- hiệu ứng ppt – fade, slide, zoom --- */
  .fade   { animation: fade 0.8s ease; }
  @keyframes fade { from{opacity:0} to{opacity:1} }

  .slideL { animation: slideL 0.8s ease; }
  @keyframes slideL { from{transform:translateX(40%);opacity:0} to{transform:translateX(0);opacity:1} }

  .slideR { animation: slideR 0.8s ease; }
  @keyframes slideR { from{transform:translateX(-40%);opacity:0} to{transform:translateX(0);opacity:1} }

  .zoom   { animation: zoom 0.8s ease; }
  @keyframes zoom { from{transform:scale(1.2);opacity:0} to{transform:scale(1);opacity:1} }
</style>
</head>
<body>

<div id="frame">
  <img id="pic" src="">
</div>

<div class="controls">
  <button id="prev" class="secondary">⬅ Prev</button>
  <button id="play">Play ▶</button>
  <button id="next" class="secondary">Next ➡</button>
</div>

<script>
const TOTAL = 14;                 // chỉnh số ảnh
const IMG_FOLDER = "images/";     // thư mục
const EXT = "png";                // đuôi ảnh

let index = 1;
let playing = false;
let autoRun = null;

const pic = document.getElementById("pic");
const playBtn = document.getElementById("play");

const effects = ["fade", "slideL", "slideR", "zoom"];

function show(i, effect = "fade") {
  pic.className = "";          // reset hiệu ứng
  pic.src = `${IMG_FOLDER}${i}.${EXT}`;
  void pic.offsetWidth;        // restart animation
  pic.classList.add(effect);
}

show(index);

/* NEXT */
function next() {
  stopAuto();
  index++;
  if (index > TOTAL) index = 1;
  show(index, randomFX());
}

/* PREV */
function prev() {
  stopAuto();
  index--;
  if (index < 1) index = TOTAL;
  show(index, randomFX());
}

/* PLAY / STOP */
function togglePlay() {
  if (playing) { stopAuto(); return; }

  playing = true;
  playBtn.textContent = "Stop ■";

  autoRun = setInterval(() => {
    index++;
    if (index > TOTAL) index = 1;
    show(index, randomFX());
  }, 3000);
}

function stopAuto() {
  if (playing) {
    clearInterval(autoRun);
    playing = false;
    playBtn.textContent = "Play ▶";
  }
}

function randomFX() {
  return effects[Math.floor(Math.random() * effects.length)];
}

/* EVENT */
document.getElementById("next").onclick = next;
document.getElementById("prev").onclick = prev;
playBtn.onclick = togglePlay;

/* phím tắt */
window.addEventListener("keydown", e => {
  if (e.key === "ArrowRight") next();
  if (e.key === "ArrowLeft") prev();
  if (e.key === " ") togglePlay();
});
</script>

</body>
</html>
