<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng D·ª•ng T√≠ch H·ª£p ƒê·ªãnh lu·∫≠t Charles</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i Chart.js cho ƒë·ªì th·ªã -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']], // B·∫Øt bu·ªôc nh·∫≠n di·ªán $...$
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      // ...
    };
    </script>
    <style>
        /* Thi·∫øt l·∫≠p font Inter m·∫∑c ƒë·ªãnh v√† l√†m cho giao di·ªán ƒë·∫πp h∆°n */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }

        /* Styling cho b√¨nh kh√≠ (M√¥ ph·ªèng) */
        #cylinder-container {
            width: 100px;
            height: 250px; /* Chi·ªÅu cao t·ªëi ƒëa c·ªßa b√¨nh */
            background-color: #e0f2fe; /* light blue-100 */
            border: 3px solid #075985; /* cyan-700 */
            border-radius: 8px;
            position: relative;
            margin: 20px auto 0 auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden; 
        }

        /* ƒê·∫°i di·ªán cho kh√≠ - Thay ƒë·ªïi chi·ªÅu cao d·ª±a tr√™n th·ªÉ t√≠ch */
        #gas-volume {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: #38bdf8; /* sky-400 */
            transition: height 0.3s ease;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        }

        /* Piston - Thanh ch·∫Øn ph√≠a tr√™n kh√≠ (Gi·ªØ √°p su·∫•t kh√¥ng ƒë·ªïi) */
        #piston {
            position: absolute;
            bottom: 0; /* V·ªã tr√≠ ƒë∆∞·ª£c ƒëi·ªÅu khi·ªÉn b·∫±ng JS */
            width: 120px;
            height: 10px;
            background-color: #10b981; /* emerald-500 - M√†u xanh l√° cho √°p su·∫•t kh√¥ng ƒë·ªïi */
            border: 2px solid #065f46; /* emerald-700 */
            border-radius: 5px;
            left: -10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }

        /* Thanh nhi·ªát ƒë·ªô (S·ª≠ d·ª•ng cho input range) */
        #temperature-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            background: #cbd5e1; /* slate-300 */
            border-radius: 5px;
            outline: none;
            transition: opacity .2s;
        }

        #temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #ef4444; /* red-500 */
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        /* Styling cho c√°c ti√™u ƒë·ªÅ l√Ω thuy·∫øt */
        .section-title {
            @apply text-2xl font-bold text-teal-700 mt-6 mb-3 border-b pb-1;
        }
        .subsection-title {
            @apply text-xl font-semibold text-gray-800 mt-4 mb-2;
        }
        .list-item-content {
            @apply mb-2 p-2 bg-gray-50 rounded-lg;
        }
        .math-display {
            @apply text-center text-lg font-mono my-4 p-2 bg-teal-50 rounded-lg;
        }
    </style>
    <script>
        // H·∫±ng s·ªë v√† bi·∫øn tr·∫°ng th√°i
        const T_MIN = 100; // Nhi·ªát ƒë·ªô t·ªëi thi·ªÉu (K)
        const T_MAX = 500; // Nhi·ªát ƒë·ªô t·ªëi ƒëa (K)
        const INITIAL_TEMPERATURE = 300; // Nhi·ªát ƒë·ªô ban ƒë·∫ßu (K)
        const INITIAL_VOLUME = 100; // Th·ªÉ t√≠ch ban ƒë·∫ßu (ƒë∆°n v·ªã t√πy √Ω)
        
        // H·∫±ng s·ªë K = V/T
        const K_CONSTANT = INITIAL_VOLUME / INITIAL_TEMPERATURE; 
        
        const MAX_HEIGHT = 250; // Chi·ªÅu cao t·ªëi ƒëa c·ªßa b√¨nh (px)
        const MIN_HEIGHT = 50;  // Chi·ªÅu cao t·ªëi thi·ªÉu c·ªßa kh√≠ (px)
        const KELVIN_OFFSET = 273.15; // ƒê·ªô ch√™nh l·ªách gi·ªØa C v√† K

        let currentTemperature = INITIAL_TEMPERATURE;
        let currentVolume = INITIAL_VOLUME;
        let collectedData = [];
        let charlesLawChart; // Bi·∫øn gi·ªØ ƒë·ªëi t∆∞·ª£ng Chart.js

        // Tham chi·∫øu DOM
        let gasVolumeElement;
        let pistonElement;
        let tempDisplay;
        let volumeDisplay;
        let tempSlider;
        let dataTableBody;
        let statusMessage;
        let chartCanvas;


        // H√†m chuy·ªÉn ƒë·ªïi Th·ªÉ t√≠ch sang chi·ªÅu cao (px)
        const volumeToHeight = (V) => {
            const V_MAX_DISPLAY = K_CONSTANT * T_MAX; // ~ 166.67
            // Scale V_new v√†o ph·∫°m vi chi·ªÅu cao
            let newHeight = (V / V_MAX_DISPLAY) * MAX_HEIGHT; 
            
            // Gi·ªõi h·∫°n chi·ªÅu cao cho tr·ª±c quan
            if (newHeight < MIN_HEIGHT) newHeight = MIN_HEIGHT;
            if (newHeight > MAX_HEIGHT) newHeight = MAX_HEIGHT;
            
            return newHeight;
        };
        
        // H√†m t√≠nh to√°n v√† c·∫≠p nh·∫≠t m√¥ ph·ªèng
        const updateSimulation = (newTemperature) => {
            currentTemperature = newTemperature;
            
            // ƒê·ªãnh lu·∫≠t Charles: V = K_CONSTANT * T
            currentVolume = K_CONSTANT * currentTemperature; 

            // C·∫≠p nh·∫≠t giao di·ªán
            let newHeight = volumeToHeight(currentVolume);

            pistonElement.style.bottom = `${newHeight}px`;
            gasVolumeElement.style.height = `${newHeight}px`;

            // C·∫≠p nh·∫≠t m√†n h√¨nh hi·ªÉn th·ªã
            tempDisplay.textContent = currentTemperature.toFixed(0);
            volumeDisplay.textContent = currentVolume.toFixed(2);
            
            // Nhi·ªát ƒë·ªô Celsius: t = T - 273.15
            const tempCelsius = currentTemperature - KELVIN_OFFSET;
            document.getElementById('temp-celsius-value').textContent = tempCelsius.toFixed(1);

            statusMessage.textContent = 'Thay ƒë·ªïi nhi·ªát ƒë·ªô ƒë·ªÉ quan s√°t th·ªÉ t√≠ch.';
            statusMessage.classList.remove('text-green-600', 'text-red-600');
            statusMessage.classList.add('text-gray-600');
        };

        // --- H√ÄM V·∫º ƒê·ªí TH·ªä ---
        const renderChart = () => {
            if (!charlesLawChart) return;
            
            // L·∫•y d·ªØ li·ªáu X (T - Nhi·ªát ƒë·ªô) v√† Y (V - Th·ªÉ t√≠ch)
            const T_data = collectedData.map(d => d.T);
            const V_data = collectedData.map(d => d.V);

            // C·∫≠p nh·∫≠t d·ªØ li·ªáu cho Chart.js
            charlesLawChart.data.datasets[0].data = T_data.map((t, index) => ({
                x: t,
                y: V_data[index]
            }));
            
            // V·∫Ω l·∫°i ƒë·ªì th·ªã
            charlesLawChart.update();
        };

        // H√†m ghi l·∫°i d·ªØ li·ªáu
        const recordData = () => {
            if (collectedData.length > 0) {
                const lastData = collectedData[collectedData.length - 1];
                // Ki·ªÉm tra xem nhi·ªát ƒë·ªô c√≥ thay ƒë·ªïi ƒë·ªß ƒë·ªÉ ghi l·∫°i kh√¥ng
                if (Math.abs(lastData.T - currentTemperature) < 10) { 
                    statusMessage.textContent = 'Gi√° tr·ªã n√†y ƒë√£ ƒë∆∞·ª£c ghi l·∫°i (thay ƒë·ªïi qu√° √≠t). Vui l√≤ng ƒëi·ªÅu ch·ªânh nhi·ªát ƒë·ªô th√™m.';
                    statusMessage.classList.remove('text-green-600');
                    statusMessage.classList.add('text-red-600');
                    return;
                }
            }
            
            const T = currentTemperature;
            const V = currentVolume;
            const V_over_T = V / T; 
            
            const newData = { T: T, V: V, V_over_T: V_over_T };
            collectedData.push(newData);
            
            // C·∫≠p nh·∫≠t b·∫£ng
            const newRow = dataTableBody.insertRow();
            newRow.insertCell(0).textContent = collectedData.length;
            newRow.insertCell(1).textContent = T.toFixed(0);
            newRow.insertCell(2).textContent = V.toFixed(2);
            newRow.insertCell(3).textContent = V_over_T.toFixed(4); 
            
            // V·∫Ω ƒë·ªì th·ªã
            renderChart();

            statusMessage.textContent = `ƒê√£ ghi l·∫°i ƒëi·ªÉm d·ªØ li·ªáu #${collectedData.length}.`;
            statusMessage.classList.remove('text-red-600');
            statusMessage.classList.add('text-green-600');
        };
        
        // --- H√ÄM X·ª¨ L√ù QUIZ (C·ªôt 2) ---

        // H√†m ki·ªÉm tra ƒë√°p √°n cho c√¢u h·ªèi tr·∫Øc nghi·ªám (1, 2, 3)
        const checkAnswer = (questionIndex, correctOption, elementId) => {
            const options = document.getElementsByName('q' + questionIndex);
            let selectedValue;
            options.forEach(option => {
                if (option.checked) {
                    selectedValue = option.value;
                }
            });

            const resultElement = document.getElementById(elementId);
            resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
            resultElement.classList.add('p-2', 'rounded-lg', 'mt-2', 'font-medium');

            if (selectedValue === correctOption) {
                resultElement.textContent = 'Ch√≠nh x√°c! üéâ';
                resultElement.classList.add('bg-green-100', 'text-green-800');
            } else if (selectedValue) {
                resultElement.textContent = `Sai r·ªìi. ƒê√°p √°n ƒë√∫ng l√† ${correctOption}.`;
                resultElement.classList.add('bg-red-100', 'text-red-800');
            } else {
                resultElement.textContent = 'Vui l√≤ng ch·ªçn m·ªôt ƒë√°p √°n.';
                resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
            }
        };

        // H√†m ki·ªÉm tra c√¢u h·ªèi t√≠nh to√°n 1 (C√¢u 4)
        const checkCalculationQuestion4 = () => {
            const v2_input = document.getElementById('q4-input').value;
            const resultElement = document.getElementById('result4');

            resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
            resultElement.classList.add('p-2', 'rounded-lg', 'mt-2', 'font-medium');

            if (!v2_input || isNaN(v2_input)) {
                resultElement.textContent = 'Vui l√≤ng nh·∫≠p m·ªôt gi√° tr·ªã s·ªë h·ª£p l·ªá.';
                resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
                return;
            }

            // D·ªØ li·ªáu: V1 = 5 L, T1 = 27 + 273.15 = 300.15 K, T2 = 127 + 273.15 = 400.15 K
            const V1 = 5.0;
            const T1 = 27.0 + KELVIN_OFFSET;
            const T2 = 127.0 + KELVIN_OFFSET;
            
            // C√¥ng th·ª©c: V2 = V1 * (T2 / T1)
            const V2_expected = V1 * (T2 / T1); 
            
            // Ch·∫•p nh·∫≠n sai s·ªë nh·ªè (v√≠ d·ª•: 0.05 L)
            if (Math.abs(parseFloat(v2_input) - V2_expected) < 0.05) {
//                resultElement.textContent = `Ch√≠nh x√°c! üéâ V2 $\\approx$ ${V2_expected.toFixed(2)} L.`;
                resultElement.innerHTML = `Ch√≠nh x√°c! üéâ V2 $\\approx$ ${V2_expected.toFixed(2)} L.`;
		MathJax.typeset();
                resultElement.classList.add('bg-green-100', 'text-green-800');
            } else {
//                resultElement.textContent = `Sai r·ªìi. Vui l√≤ng ki·ªÉm tra l·∫°i c√¥ng th·ª©c $\\frac{V_1}{T_1} = \\frac{V_2}{T_2}$ v√† nh·ªõ ƒë·ªïi nhi·ªát ƒë·ªô sang Kelvin. G·ª£i √Ω: V2 $\\approx$ ${V2_expected.toFixed(2)} L.`;
	          resultElement.innerHTML = `Sai r·ªìi. Vui l√≤ng ki·ªÉm tra l·∫°i c√¥ng th·ª©c $\\frac{V_1}{T_1} = \\frac{V_2}{T_2}$ v√† nh·ªõ ƒë·ªïi nhi·ªát ƒë·ªô sang Kelvin. G·ª£i √Ω: V2 $\\approx$ ${V2_expected.toFixed(2)} L.`;
		MathJax.typeset();
                resultElement.classList.add('bg-red-100', 'text-red-800');
            }
        };

        // H√†m ki·ªÉm tra c√¢u h·ªèi t√≠nh to√°n 2 (C√¢u 5)
        const checkCalculationQuestion5 = () => {
            const t2_input = document.getElementById('q5-input').value;
            const resultElement = document.getElementById('result5');

            resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
            resultElement.classList.add('p-2', 'rounded-lg', 'mt-2', 'font-medium');

            if (!t2_input || isNaN(t2_input)) {
                resultElement.textContent = 'Vui l√≤ng nh·∫≠p m·ªôt gi√° tr·ªã s·ªë h·ª£p l·ªá.';
                resultElement.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
                return;
            }

            // D·ªØ li·ªáu: V1 = 10 L, T1 = 27 + 273.15 = 300.15 K, V2 = 12 L
            const V1 = 10.0;
            const T1 = 27.0 + KELVIN_OFFSET;
            const V2 = 12.0;
            
            // C√¥ng th·ª©c: T2 = T1 * (V2 / V1) 
            const T2_kelvin_expected = T1 * (V2 / V1);
            // ƒê·ªïi sang Celsius: t2 = T2 - 273.15
            const t2_celsius_expected = T2_kelvin_expected - KELVIN_OFFSET;
            
            // Ch·∫•p nh·∫≠n sai s·ªë nh·ªè (v√≠ d·ª•: 0.05 ƒë·ªô C)
            if (Math.abs(parseFloat(t2_input) - t2_celsius_expected) < 0.05) {
//                resultElement.textContent = `Ch√≠nh x√°c! üéâ $t_2 \\approx$ ${t2_celsius_expected.toFixed(2)} $\\text{}^{\\circ}\\text{C}$.`;
                resultElement.innerHTML = `Ch√≠nh x√°c! üéâ $t_2 \\approx$ ${t2_celsius_expected.toFixed(2)} $\\text{}^{\\circ}\\text{C}$.`;
		MathJax.typeset();
                resultElement.classList.add('bg-green-100', 'text-green-800');
            } else {
                //resultElement.textContent = `Sai r·ªìi. Vui l√≤ng ki·ªÉm tra l·∫°i c√¥ng th·ª©c $\\frac{V_1}{T_1} = \\frac{V_2}{T_2}$ v√† nh·ªõ ƒë·ªïi nhi·ªát ƒë·ªô cu·ªëi c√πng sang $\\text{}^{\\circ}\\text{C}$. G·ª£i √Ω: $t_2 \\approx$ ${t2_celsius_expected.toFixed(2)} $\\text{}^{\\circ}\\text{C}$.`;
                resultElement.innerHTML = `Sai r·ªìi. Vui l√≤ng ki·ªÉm tra l·∫°i c√¥ng th·ª©c $\\frac{V_1}{T_1} = \\frac{V_2}{T_2}$ v√† nh·ªõ ƒë·ªïi nhi·ªát ƒë·ªô cu·ªëi c√πng sang $\\text{}^{\\circ}\\text{C}$. G·ª£i √Ω: $t_2 \\approx$ ${t2_celsius_expected.toFixed(2)} $\\text{}^{\\circ}\\text{C}$.`;
		MathJax.typeset();
                resultElement.classList.add('bg-red-100', 'text-red-800');
            }
        };


        // Kh·ªüi t·∫°o tr·∫°ng th√°i v√† s·ª± ki·ªán khi DOM ƒë√£ t·∫£i
        window.onload = function() {
            gasVolumeElement = document.getElementById('gas-volume');
            pistonElement = document.getElementById('piston');
            tempDisplay = document.getElementById('temp-value');
            volumeDisplay = document.getElementById('volume-value');
            tempSlider = document.getElementById('temperature-slider');
            dataTableBody = document.getElementById('data-table-body');
            statusMessage = document.getElementById('status-message');
            chartCanvas = document.getElementById('charlesLawChart'); // L·∫•y Canvas

            document.getElementById('record-button').addEventListener('click', recordData);
            tempSlider.addEventListener('input', (e) => {
                updateSimulation(parseFloat(e.target.value));
            });

            // G·∫Øn s·ª± ki·ªán cho c√°c n√∫t Ki·ªÉm tra c·ªßa c√¢u h·ªèi t√≠nh to√°n m·ªõi
            document.getElementById('check-q4').addEventListener('click', checkCalculationQuestion4);
            document.getElementById('check-q5').addEventListener('click', checkCalculationQuestion5);


            // Thi·∫øt l·∫≠p Chart.js
            charlesLawChart = new Chart(chartCanvas, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'D·ªØ li·ªáu (V theo T)',
                        data: [], // D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn b·∫±ng JS
                        backgroundColor: 'rgba(239, 68, 68, 0.8)', // M√†u ƒë·ªè
                        borderColor: 'rgba(239, 68, 68, 1)',
                        pointRadius: 6,
                        showLine: true,
                        fill: false,
                        tension: 0 // ƒê∆∞·ªùng th·∫≥ng
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: { display: true, text: 'Nhi·ªát ƒë·ªô T (K)' },
                            min: T_MIN - 50,
                            max: T_MAX + 50
                        },
                        y: {
                            title: { display: true, text: 'Th·ªÉ t√≠ch V (ƒë∆°n v·ªã)' },
                            min: 0
                        }
                    },
                    plugins: {
                        legend: { display: true }
                    }
                }
            });

            // Thi·∫øt l·∫≠p tr·∫°ng th√°i ban ƒë·∫ßu
            tempSlider.min = T_MIN;
            tempSlider.max = T_MAX;
            tempSlider.value = INITIAL_TEMPERATURE;
            updateSimulation(INITIAL_TEMPERATURE);
        };
    </script>
</head>
<body class="p-4 sm:p-8 min-h-screen">

    <div class="max-w-7xl mx-auto bg-white p-6 rounded-xl shadow-2xl">
        <h1 class="text-3xl font-bold text-center text-teal-800 mb-6 border-b-4 border-teal-200 pb-3">
                L√ù THUY·∫æT ƒê·ªäNH LU·∫¨T CHARLES
        </h1>

        <div class="flex flex-col lg:flex-row gap-8">
            
            <!-- C·ªôt 1: M√¥ Ph·ªèng & Thu th·∫≠p D·ªØ li·ªáu (lg:w-1/3) -->
            <div class="lg:w-1/3 flex flex-col items-center p-4 bg-teal-50 rounded-xl shadow-md border border-teal-200">
                <h2 class="text-xl font-bold mb-4 text-teal-700">I. TH√ç NGHI·ªÜM ƒê·∫≤NG √ÅP</h2>
                <!-- Tr·∫°ng th√°i √Åp su·∫•t kh√¥ng ƒë·ªïi -->
                <div class="w-full text-center p-2 bg-green-100 text-green-800 font-semibold rounded-lg mb-4 shadow-sm">
			√Åp su·∫•t ($p$) ƒë∆∞·ª£c gi·ªØ **KH√îNG ƒê·ªîI**                    
                </div>

                <!-- Hi·ªÉn th·ªã Gi√° tr·ªã -->
                <div class="text-center mb-6 w-full p-3 bg-white rounded-lg shadow-inner">
                    <p class="text-xl font-medium">Nhi·ªát ƒë·ªô ($T$): <span id="temp-value" class="font-bold text-3xl text-red-600">300</span> K</p>
                    <p class="text-sm font-medium">($t$): <span id="temp-celsius-value" class="font-bold text-lg text-red-500">26.85</span> ¬∞C</p>
                    <p class="text-xl font-medium mt-2">Th·ªÉ t√≠ch ($V$): <span id="volume-value" class="font-bold text-3xl text-blue-600">100.00</span> ƒë∆°n v·ªã</p>
                </div>

                <!-- B√¨nh Kh√≠ v√† Piston -->
                <div id="cylinder-container">
                    <div id="gas-volume"></div>
                    <div id="piston" style="bottom: 150px;"></div>
                </div>

                <!-- Thanh ƒêi·ªÅu ch·ªânh Nhi·ªát ƒë·ªô -->
                <div class="mt-4 w-full px-4">
                    <label for="temperature-slider" class="block text-center text-lg font-semibold text-gray-700 mb-2">
                        ƒêi·ªÅu ch·ªânh Nhi·ªát ƒë·ªô ($T$)
                    </label>
                    <input type="range" id="temperature-slider" class="w-full" min="100" max="500" step="5">
                </div>
                
                <div class="mt-6 w-full text-center">
                    <button id="record-button" 
                            class="w-full sm:w-auto px-6 py-3 bg-teal-600 text-white font-semibold rounded-lg shadow-lg hover:bg-teal-700 transition duration-200 transform hover:scale-105">
                        Ghi l·∫°i D·ªØ li·ªáu ($T, V$)
                    </button>
                    <p id="status-message" class="mt-3 text-sm h-5 font-medium text-gray-600">S·∫µn s√†ng.</p>
                </div>

                <!-- B·∫£ng D·ªØ li·ªáu Thu th·∫≠p -->
                <h3 class="text-lg font-semibold mt-8 mb-2 text-teal-600">B·∫£ng D·ªØ li·ªáu Thu th·∫≠p</h3>
                <div class="overflow-x-auto w-full shadow-lg rounded-lg border border-gray-300">
                    <table class="min-w-full divide-y divide-gray-300">
                        <thead class="bg-teal-200">
                            <tr>
                                <th class="px-2 py-3 text-left text-xs font-bold text-teal-800 uppercase tracking-wider">#</th>
                                <th class="px-2 py-3 text-left text-xs font-bold text-teal-800 uppercase tracking-wider">T (K)</th>
                                <th class="px-2 py-3 text-left text-xs font-bold text-teal-800 uppercase tracking-wider">V (ƒëv)</th>
                                <th class="px-2 py-3 text-left text-xs font-bold text-teal-800 uppercase tracking-wider">V/T (ƒëv/K)</th>
                            </tr>
                        </thead>
                        <tbody id="data-table-body" class="bg-white divide-y divide-gray-200 text-sm">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                        </tbody>
                    </table>
                </div>

                <!-- Khu v·ª±c ƒê·ªì th·ªã -->
                <h3 class="text-lg font-semibold mt-8 mb-2 text-teal-600">ƒê·ªì th·ªã V theo T (ƒê·∫≥ng √°p)</h3>
                <div class="w-full h-64 bg-white p-2 rounded-lg shadow-inner border border-gray-300">
                    <canvas id="charlesLawChart"></canvas>
                </div>

            </div>

            <!-- C·ªôt 2: L√Ω Thuy·∫øt & Quiz (lg:w-2/3) -->
            <div class="lg:w-2/3 p-4 bg-white rounded-xl shadow-lg border border-gray-200 overflow-y-auto">
                <!-- I. TR·∫†NG TH√ÅI V√Ä QU√Å TR√åNH BI·∫æN ƒê·ªîI -->
                <h3 class="subsection-title text-indigo-600 font-bold">I. TR·∫†NG TH√ÅI V√Ä ƒê·∫≤NG QU√Å TR√åNH</h3>

                <ul class="space-y-3 text-gray-700">
                    <li>
                        <p class="font-bold">1. Th√¥ng s·ªë v√† Tr·∫°ng th√°i kh√≠</p>
                        <div class="list-item-content">
                            Tr·∫°ng th√°i ƒë∆∞·ª£c x√°c ƒë·ªãnh b·ªüi 3 th√¥ng s·ªë: **√Åp su·∫•t ($p$), Th·ªÉ t√≠ch ($V$), Nhi·ªát ƒë·ªô tuy·ªát ƒë·ªëi ($T$)**. Qu√° tr√¨nh bi·∫øn ƒë·ªïi l√† khi √≠t nh·∫•t m·ªôt th√¥ng s·ªë thay ƒë·ªïi.
                        </div>
                    </li>
                    <li>
                        <p class="font-bold">2. ƒê·ªãnh nghƒ©a ƒê·∫≥ng qu√° tr√¨nh</p>
                        <div class="list-item-content">
                            L√† qu√° tr√¨nh trong ƒë√≥ **m·ªôt th√¥ng s·ªë tr·∫°ng th√°i ƒë∆∞·ª£c gi·ªØ kh√¥ng ƒë·ªïi**.
                            <ul class="list-disc list-inside ml-4 mt-2 font-medium">
                                <li>ƒê·∫≥ng nhi·ªát ($T = \text{const}$): ƒêL Boyle.</li>
                                <li>ƒê·∫≥ng t√≠ch ($V = \text{const}$): ƒêL Charles th·ª© hai (ƒêL Gay-Lussac).</li>
                                <li>**ƒê·∫≥ng √°p** ($p = \text{const}$): **ƒêL Charles**. (√Åp d·ª•ng cho m√¥ ph·ªèng c·ªôt 1)</li>
                            </ul>
                        </div>
                    </li>
                </ul>

                <!-- II. ƒê·ªäNH LU·∫¨T CHARLES -->
                <h3 class="subsection-title text-teal-600 mt-6 font-bold">II. ƒê·ªäNH LU·∫¨T CHARLES (ƒê·∫≥ng √Åp: $p = \text{const}$)</h3>
                
                <p class="font-bold text-lg mt-4">1. Th√≠ Nghi·ªám: H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng m√¥ ph·ªèng</p>
                <div class="p-3 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg text-sm text-gray-700">
                    M√¥ ph·ªèng ·ªü **C·ªôt 1** ƒëang ho·∫°t ƒë·ªông trong ƒëi·ªÅu ki·ªán **ƒê·∫≥ng √°p** ($p$ kh√¥ng ƒë·ªïi). H·ªçc sinh h√£y k√©o thanh tr∆∞·ª£t **Nhi·ªát ƒë·ªô** ƒë·ªÉ tƒÉng ho·∫∑c gi·∫£m $T$ v√† quan s√°t s·ª± thay ƒë·ªïi c·ªßa Th·ªÉ t√≠ch ($V$). S·ª≠ d·ª•ng n√∫t **"Ghi l·∫°i D·ªØ li·ªáu"** ƒë·ªÉ thu th·∫≠p c√°c c·∫∑p $(T, V)$ nh·∫±m ki·ªÉm ch·ª©ng ƒë·ªãnh lu·∫≠t. D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c v·∫Ω tr√™n ƒë·ªì th·ªã $V-T$.
                </div>

                <p class="font-bold text-lg mt-4">2. Ph√°t bi·ªÉu ƒë·ªãnh lu·∫≠t</p>
                <blockquote class="p-4 my-2 border-l-4 border-teal-500 bg-teal-50 italic text-gray-800 rounded-lg">
                    Trong qu√° tr√¨nh ƒë·∫≥ng √°p c·ªßa m·ªôt l∆∞·ª£ng kh√≠ nh·∫•t ƒë·ªãnh, **th·ªÉ t√≠ch t·ªâ l·ªá thu·∫≠n v·ªõi nhi·ªát ƒë·ªô tuy·ªát ƒë·ªëi**.
                </blockquote>
                
                <p class="font-bold mt-2">Bi·ªÉu th·ª©c to√°n h·ªçc:</p>
                <div class="math-display">
                    $$V \propto T \quad \text{hay} \quad \frac{V}{T} = \text{const}$$
                    $$\frac{V_1}{T_1} = \frac{V_2}{T_2} = \dots = \frac{V_n}{T_n}$$
                </div>

                <p class="font-bold text-lg mt-6">3. ƒê·ªì th·ªã ƒë∆∞·ªùng ƒë·∫≥ng √°p (Isobar)</p>
                <p class="text-sm text-gray-600 mb-2">ƒê∆∞·ªùng bi·ªÉu di·ªÖn s·ª± ph·ª• thu·ªôc c·ªßa th·ªÉ t√≠ch theo nhi·ªát ƒë·ªô khi √°p su·∫•t kh√¥ng ƒë·ªïi ƒë∆∞·ª£c g·ªçi l√† **ƒê∆∞·ªùng ƒë·∫≥ng √°p** (Isobar). ƒê·ªì th·ªã $V-T$ (Kelvin) l√† m·ªôt ƒë∆∞·ªùng th·∫≥ng ƒëi qua g·ªëc t·ªça ƒë·ªô.</p>
                

                <div class="overflow-x-auto mt-3">
                    <table class="w-full text-sm text-left text-gray-500 shadow-md rounded-lg">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th scope="col" class="px-3 py-3">H·ªá T·ªça ƒê·ªô</th>
                                <th scope="col" class="px-3 py-3">H√¨nh D·∫°ng ƒê·ªì Th·ªã</th>
                                <th scope="col" class="px-3 py-3">√ù Nghƒ©a</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white border-b">
                                <td class="px-3 py-4 font-medium text-gray-900 whitespace-nowrap">$V$ **theo** $T$ (Kelvin)</td>
                                <td class="px-3 py-4">ƒê∆∞·ªùng **Th·∫≥ng** ƒëi qua g·ªëc t·ªça ƒë·ªô</td>
                                <td class="px-3 py-4">Th·ªÉ hi·ªán m·ªëi quan h·ªá t·ªâ l·ªá thu·∫≠n ($V/T = \text{const}$).</td>
                            </tr>
                            <tr class="bg-white border-b">
                                <td class="px-3 py-4 font-medium text-gray-900 whitespace-nowrap">$V$ **theo** $t$ (Celsius)</td>
                                <td class="px-3 py-4">ƒê∆∞·ªùng **Th·∫≥ng**</td>
                                <td class="px-3 py-4">C·∫Øt tr·ª•c ho√†nh t·∫°i $-273.15^\circ \text{C}$ (ƒêi·ªÉm kh√¥ng tuy·ªát ƒë·ªëi l√Ω thuy·∫øt).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- III. KI·ªÇM TRA KI·∫æN TH·ª®C -->
                <h3 class="subsection-title text-red-600 mt-8">III. KI·ªÇM TRA KI·∫æN TH·ª®C ƒê·ªäNH LU·∫¨T CHARLES</h3>

                <!-- C√¢u h·ªèi 1 -->
                <div class="p-4 bg-red-50 rounded-lg shadow-md mb-4">
                    <p class="font-bold text-gray-800 mb-2">C√¢u 1: Qu√° tr√¨nh ƒë·∫≥ng √°p l√† qu√° tr√¨nh c√≥ th√¥ng s·ªë n√†o ƒë∆∞·ª£c gi·ªØ kh√¥ng ƒë·ªïi?</p>
                    <div class="space-y-2">
                        <label class="block"><input type="radio" name="q1" value="A"> A. Nhi·ªát ƒë·ªô tuy·ªát ƒë·ªëi ($T$)</label>
                        <label class="block"><input type="radio" name="q1" value="B"> B. Th·ªÉ t√≠ch ($V$)</label>
                        <label class="block"><input type="radio" name="q1" value="C"> C. √Åp su·∫•t ($p$)</label>
                        <label class="block"><input type="radio" name="q1" value="D"> D. T√≠ch $p \cdot V$</label>
                    </div>
                    <button onclick="checkAnswer(1, 'C', 'result1')" class="mt-3 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition">Ki·ªÉm tra</button>
                    <div id="result1"></div>
                </div>

                <!-- C√¢u h·ªèi 2 -->
                <div class="p-4 bg-red-50 rounded-lg shadow-md mb-4">
                    <p class="font-bold text-gray-800 mb-2">C√¢u 2: H·ªá th·ª©c n√†o sau ƒë√¢y m√¥ t·∫£ ƒë√∫ng ƒê·ªãnh lu·∫≠t Charles?</p>
                    <div class="space-y-2">
                        <label class="block"><input type="radio" name="q2" value="A"> A. $p \cdot V = \text{const}$</label>
                        <label class="block"><input type="radio" name="q2" value="B"> B. $\frac{p}{T} = \text{const}$</label>
                        <label class="block"><input type="radio" name="q2" value="C"> C. $\frac{V}{T} = \text{const}$</label>
                        <label class="block"><input type="radio" name="q2" value="D"> D. $V \cdot t = \text{const}$</label>
                    </div>
                    <button onclick="checkAnswer(2, 'C', 'result2')" class="mt-3 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition">Ki·ªÉm tra</button>
                    <div id="result2"></div>
                </div>

                <!-- C√¢u h·ªèi 3 -->
                <div class="p-4 bg-red-50 rounded-lg shadow-md mb-4">
                    <p class="font-bold text-gray-800 mb-2">C√¢u 3: ƒê·ªì th·ªã ƒë∆∞·ªùng ƒë·∫≥ng √°p trong h·ªá t·ªça ƒë·ªô ($V, T$) (nhi·ªát ƒë·ªô Kelvin) c√≥ h√¨nh d·∫°ng l√†:</p>
                    <div class="space-y-2">
                        <label class="block"><input type="radio" name="q3" value="A"> A. ƒê∆∞·ªùng hypebol.</label>
                        <label class="block"><input type="radio" name="q3" value="B"> B. ƒê∆∞·ªùng th·∫≥ng song song v·ªõi tr·ª•c $V$</label>
                        <label class="block"><input type="radio" name="q3" value="C"> C. ƒê∆∞·ªùng th·∫≥ng ƒëi qua g·ªëc t·ªça ƒë·ªô.</label>
                        <label class="block"><input type="radio" name="q3" value="D"> D. ƒê∆∞·ªùng cong parabol.</label>
                    </div>
                    <button onclick="checkAnswer(3, 'C', 'result3')" class="mt-3 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition">Ki·ªÉm tra</button>
                    <div id="result3"></div>
                </div>
                
                <!-- C√¢u h·ªèi 4 (T√çNH TO√ÅN) -->
                <div class="p-4 bg-red-100 rounded-lg shadow-md mb-4 border-2 border-red-500">
                    <p class="font-bold text-gray-800 mb-2">C√¢u 4 (T√≠nh to√°n): M·ªôt l∆∞·ª£ng kh√≠ l√Ω t∆∞·ªüng c√≥ th·ªÉ t√≠ch $V_1 = 5 \text{ L}$ ·ªü nhi·ªát ƒë·ªô $t_1 = 27^\circ \text{C}$. N·∫øu gi·ªØ √°p su·∫•t kh√¥ng ƒë·ªïi v√† tƒÉng nhi·ªát ƒë·ªô l√™n $t_2 = 127^\circ \text{C}$, th·ªÉ t√≠ch $V_2$ c·ªßa kh·ªëi kh√≠ l√† bao nhi√™u? (Nh·∫≠p k·∫øt qu·∫£ g·∫ßn ƒë√∫ng, ƒë∆°n v·ªã l√† $\text{L}$)</p>
                    
                    <div class="flex items-center space-x-2">
                        <input type="number" id="q4-input" step="0.01" placeholder="Nh·∫≠p V2 (L)" class="p-2 border border-gray-400 rounded-lg w-32 focus:ring-red-500 focus:border-red-500">
                        <button id="check-q4" class="px-4 py-2 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition">Ki·ªÉm tra</button>
                    </div>
                    <div id="result4"></div>
                    <p class="text-sm text-gray-600 mt-2 italic">G·ª£i √Ω: C√¥ng th·ª©c $\frac{V_1}{T_1} = \frac{V_2}{T_2}$ v√† $\text{T} = t + 273.15$</p>
                </div>

                <!-- C√¢u h·ªèi 5 (T√çNH TO√ÅN) -->
                <div class="p-4 bg-red-100 rounded-lg shadow-md mb-4 border-2 border-red-500">
                    <p class="font-bold text-gray-800 mb-2">C√¢u 5 (T√≠nh to√°n): M·ªôt kh·ªëi kh√≠ c√≥ th·ªÉ t√≠ch $V_1 = 10 \text{ L}$ ·ªü $t_1 = 27^\circ \text{C}$. ƒê·ªÉ th·ªÉ t√≠ch kh·ªëi kh√≠ tƒÉng l√™n $V_2 = 12 \text{ L}$ (√°p su·∫•t kh√¥ng ƒë·ªïi), c·∫ßn ph·∫£i nung n√≥ng kh·ªëi kh√≠ ƒë·∫øn nhi·ªát ƒë·ªô $t_2$ l√† bao nhi√™u? (Nh·∫≠p k·∫øt qu·∫£ g·∫ßn ƒë√∫ng, ƒë∆°n v·ªã l√† $\text{}^{\circ}\text{C}$)</p>
                    
                    <div class="flex items-center space-x-2">
                        <input type="number" id="q5-input" step="0.01" placeholder="Nh·∫≠p t2 (¬∞C)" class="p-2 border border-gray-400 rounded-lg w-32 focus:ring-red-500 focus:border-red-500">
                        <button id="check-q5" class="px-4 py-2 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition">Ki·ªÉm tra</button>
                    </div>
                    <div id="result5"></div>
                    <p class="text-sm text-gray-600 mt-2 italic">G·ª£i √Ω: T√¨m $T_2$ tr∆∞·ªõc, sau ƒë√≥ ƒë·ªïi sang $t_2$.</p>
                </div>

            </div>
        </div>
    </div>

</body>
</html>